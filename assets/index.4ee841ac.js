var L=Object.defineProperty,H=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var C=(e,r,t)=>r in e?L(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,h=(e,r)=>{for(var t in r||(r={}))P.call(r,t)&&C(e,t,r[t]);if(w)for(var t of w(r))A.call(r,t)&&C(e,t,r[t]);return e},f=(e,r)=>H(e,E(r));import{j as n,a,F as b,C as O,P as F,r as c,D as B,b as R}from"./vendor.488501a5.js";const V=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}};V();const q=({onClick:e})=>n("button",{onClick:e,className:"absolute top-4 right-4 w-8 h-8 text-xl active:bg-nord1 rounded-full border-2 border-nord2 hover:border-nord3",children:"?"}),K=()=>a(b,{children:[n("p",{className:"max-w-screen-md text-justify",children:"Click on two values to compare them. Drag values to a free spot to move them. You can change the number of values or hide them if you want to make it harder for yourself. How often do you need to move/compare values to sort the list?"}),a("p",{className:"mt-2 text-sm",children:["Copyright (c) 2022 korki [",n("a",{href:"https://github.com/korki43/sortsite/blob/main/LICENSE",className:"underline",children:"License"}),"] [",n("a",{href:"https://github.com/korki43/sortsite",className:"underline",children:"Source"}),"]"]})]});function k(...e){return e.filter(Boolean).join(" ")}function T(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function Y(e=10){const r={};for(let t=0;t<e;t++)r[`[${t}]`]=T(0,99);return r.tmp=null,r}const S=({address:e,index:r,value:t,selected:i,hideValues:o,onClick:l})=>n(b,{children:n(O,{droppableId:e,isDropDisabled:t!=null,children:(d,g)=>a("div",f(h({className:k("inline-flex flex-col items-center py-3 px-1 w-20 text-center rounded cursor-pointer"," hover:border-nord3",g.isDraggingOver?"bg-nord1":"bg-nord0",i?"border-nord3 border-2":"border border-nord2"),onClick:()=>{l(e)},ref:d.innerRef},d.droppableProps),{children:[n("div",{className:k("w-full h-10 border-b border-nord2",i&&"border-nord3 border-b-2"),children:n(F,{draggableId:e,index:r,children:p=>n("p",f(h(h({onClick:()=>l(e),className:"text-2xl font-bold",ref:p.innerRef},p.dragHandleProps),p.draggableProps),{children:t!=null&&o?"?":t}))})}),n("p",{className:"pt-2",children:e})]}))})}),$=({hideValues:e,setHideValues:r,length:t,setLength:i})=>a("div",{children:[a("div",{className:"mb-1",children:[n("input",{type:"number",pattern:"[0-9]*",id:"length",min:"2",max:"99",defaultValue:t,onChange:({target:o})=>{!isNaN(o.valueAsNumber)&&i(Math.max(Math.min(o.valueAsNumber,99),2)),o.value=o.value.replaceAll(/[^0-9]/g,""),o.value.length>2&&(o.value="99")},className:"px-0.5 mr-2 w-6 bg-nord1 rounded outline-none"}),n("label",{htmlFor:"length",children:"Length"})]}),a("label",{htmlFor:"hideval",className:"flex cursor-pointer",children:[n("div",{className:"inline-block relative mr-2 w-6 h-6 bg-nord1 active:bg-nord3 rounded",children:e&&n("div",{className:"absolute w-4 h-4 bg-nord3 rounded-sm translate-x-1/4 translate-y-1/4"})}),n("input",{className:"hidden",type:"checkbox",id:"hideval",checked:e,onChange:()=>r(!e)}),n("span",{className:"select-text",children:"Hide Values"})]})]}),z=()=>{const[e,r]=c.exports.useState({}),[t,i]=c.exports.useState([]),[o,l]=c.exports.useState("?"),[d,g]=c.exports.useState(0),[p,I]=c.exports.useState(0),[x,D]=c.exports.useState(!1),[v,M]=c.exports.useState(10),[N,j]=c.exports.useState(!1),y=s=>{e[s]!=null&&(t.includes(s)&&t.length==1?i([]):t.length>=2?i([s]):i([...t,s]))};return c.exports.useEffect(()=>{r(Y(v)),i([])},[v]),c.exports.useEffect(()=>{if(t.length!=2)return;const s=e[t[0]],u=e[t[1]];s>u?l(">"):s<u?l("<"):l("=="),I(m=>m+1)},[t]),a(b,{children:[n(q,{onClick:()=>j(!N)}),a("div",{className:"flex flex-col items-center",children:[n("h1",{className:"mt-4 mb-12 text-3xl",children:"sortsite"}),a("div",{className:"flex gap-12 justify-between mb-6",children:[a("div",{className:"whitespace-nowrap",children:[a("p",{children:["Moves: ",d]}),a("p",{children:["Comparisons: ",p]})]}),n($,{hideValues:x,setHideValues:D,length:v,setLength:M})]}),N&&n(K,{}),n("p",{className:"mt-6 mb-3 text-xl text-center",children:t.length==2?a(b,{children:[t[0]," ",n("span",{className:"font-bold",children:o})," ",t[1]]}):n("span",{className:"select-none",children:"\xA0"})}),n(B,{onDragEnd:({source:s,destination:u})=>{if(!u||e[u.droppableId]!=null)return;(t.includes(s.droppableId)||t.includes(u.droppableId))&&i([]);const m=e[s.droppableId];g(d+1),r(f(h({},e),{[s.droppableId]:null,[u.droppableId]:m}))},children:a("div",{className:"flex flex-wrap gap-2 justify-center items-start mb-5",children:[n(S,{value:e.tmp,address:"tmp",index:-1,onClick:y,selected:t.includes("tmp"),hideValues:x}),Object.entries(e).slice(0,-1).map(([s,u],m)=>n(S,{value:u,address:s,index:m,onClick:y,selected:t.includes(s),hideValues:x},m))]})})]})]})};R.exports.render(n(c.exports.StrictMode,{children:n(z,{})}),document.getElementById("root"));
